(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1106:function(t,e,i){"use strict";i.r(e);i(33),i(73);var s=i(551),r=i(544),o=i(11),n=i(570),u={name:"DruxtBlockRegion",mixins:[i(71).a],props:{name:{type:String,default:"content"},theme:{type:String,required:!0}},data:function(){return{blocks:[],loading:!1}},computed:Object(s.a)({suggestionDefaults:function(){return this.tokens?[{value:this.tokens.prefix+this.tokens.region+this.tokens.theme},{value:this.tokens.prefix+this.tokens.region}]:[]},tokens:function(){return{prefix:"DruxtBlockRegion",region:this.suggest(this.name),theme:this.suggest(this.theme)}},tokenType:function(){return"block-region"}},Object(o.c)("druxtRouter",{route:function(t){return t.route}})),watch:{route:function(){this.fetchBlocks()}},created:function(){this.fetchBlocks()},methods:Object(s.a)({fetchBlocks:function(){var t=this;if(!this.loading){this.loading=!0;var e=new n.DrupalJsonApiParams;e.addFilter("region",this.name).addFilter("status","1").addFilter("theme",this.theme).addGroup("visibility","OR").addFilter("visibility.request_path",null,"IS NULL","visibility"),e.addGroup("pages","AND","visibility").addFilter("visibility.request_path.pages",this.route.resolvedPath,"CONTAINS","pages").addFilter("visibility.request_path.negate",0,"=","pages"),e.addGroup("front","AND","visibility").addFilter("visibility.request_path.pages","<front>","CONTAINS","front").addFilter("visibility.request_path.negate",this.route.isHomePath?0:1,"=","front");var i=e.getQueryObject();delete i.filter["visibility.request_path"].condition.value;var s=Object(r.stringify)(i);this.$store.state.druxtRouter.route.resolvedPath;this.getResources({resource:"block--block",query:s}).then((function(e){t.blocks=e,t.loading=!1}))}}},Object(o.b)({getResources:"druxtRouter/getResources"}))},a=i(67),l=Object(a.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return this.blocks?e(this.component,{tag:"component"},this._l(this.blocks,(function(t){return e("druxt-block",{key:t.id,attrs:{uuid:t.id,type:"block--block"}})})),1):this._e()}),[],!1,null,null,null);e.default=l.exports}}]);